<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>图片粘貼上传PC</title><style>body{font-family:Arial,sans-serif;background-color:#f5f5f5;display:flex;justify-content:center;align-items:center;height:100vh;margin:0}.upload-container{width:500px;background:#fff;border-radius:10px;box-shadow:0 5px 15px rgba(0,0,0,.1);padding:30px;text-align:center}.upload-area{border:2px dashed #4caf50;border-radius:8px;padding:40px 20px;margin-bottom:20px;cursor:pointer;transition:all .3s;background-color:rgba(76,175,80,.05);position:relative}.upload-area:hover{background-color:rgba(76,175,80,.1);border-color:#3e8e41}.upload-area.active{background-color:rgba(76,175,80,.2);border-color:#2e7d32}.upload-icon{font-size:48px;color:#4caf50;margin-bottom:15px}.upload-text{color:#555;margin-bottom:5px}.upload-hint{color:#888;font-size:14px}.preview-container{margin-top:20px;display:none}.preview-image{max-width:100%;max-height:300px;border-radius:5px;box-shadow:0 3px 10px rgba(0,0,0,.1)}.file-info{margin-top:15px;color:#555}.btn{background-color:#4caf50;color:#fff;border:none;padding:12px 25px;border-radius:5px;cursor:pointer;font-size:16px;transition:all .3s;margin-top:15px}.btn:hover{background-color:#3e8e41;transform:translateY(-2px)}.btn:disabled{background-color:#ccc;cursor:not-allowed;transform:none}.hidden-input{display:none}</style></head><body><div class="upload-container"><h2>图片粘贴上传</h2><p>支持粘贴图片或选择文件</p><div class="upload-area" id="uploadArea"><div class="upload-icon">📁</div><div class="upload-text">拖放图片到此处或点击选择</div><div class="upload-hint">支持JPG, PNG, GIF等格式</div><input type="file" id="fileInput" class="hidden-input" accept="image/*"></div><div class="preview-container" id="previewContainer"><img id="previewImage" class="preview-image" src="" alt="预览"><div class="file-info" id="fileInfo"></div></div><button id="uploadBtn" class="btn" disabled>上传图片</button></div><script>const uploadArea=document.getElementById("uploadArea"),fileInput=document.getElementById("fileInput"),previewContainer=document.getElementById("previewContainer"),previewImage=document.getElementById("previewImage"),fileInfo=document.getElementById("fileInfo"),uploadBtn=document.getElementById("uploadBtn");let currentFile=null;function handleFile(e){if(!e.type.match("image.*"))return void alert("请选择图片文件！");currentFile=e;const t=new FileReader;t.onload=t=>{previewImage.src=t.target.result,previewContainer.style.display="block",fileInfo.innerHTML=`\n          <strong>文件名:</strong> ${e.name}<br>\n          <strong>类型:</strong> ${e.type}<br>\n          <strong>大小:</strong> ${formatFileSize(e.size)}\n        `,uploadBtn.disabled=!1},t.readAsDataURL(e)}function formatFileSize(e){if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]}function resetUploader(){currentFile=null,previewImage.src="",previewContainer.style.display="none",fileInput.value="",uploadBtn.disabled=!0}uploadArea.addEventListener("click",(()=>{fileInput.click()})),fileInput.addEventListener("change",(e=>{e.target.files.length>0&&handleFile(e.target.files[0])})),uploadArea.addEventListener("dragover",(e=>{e.preventDefault(),uploadArea.classList.add("active")})),uploadArea.addEventListener("dragleave",(()=>{uploadArea.classList.remove("active")})),uploadArea.addEventListener("drop",(e=>{e.preventDefault(),uploadArea.classList.remove("active"),e.dataTransfer.files.length>0&&handleFile(e.dataTransfer.files[0])})),document.addEventListener("paste",(e=>{if(e.clipboardData&&e.clipboardData.items)for(let t=0;t<e.clipboardData.items.length;t++){const a=e.clipboardData.items[t];if(-1!==a.type.indexOf("image")){const e=a.getAsFile();handleFile(new File([e],`pasted-image-${Date.now()}.${e.type.split("/")[1]}`,{type:e.type}));break}}})),uploadBtn.addEventListener("click",(()=>{currentFile&&(alert(`准备上传: ${currentFile.name}\n大小: ${formatFileSize(currentFile.size)}`),console.log("上传文件:",currentFile),setTimeout((()=>{alert("上传成功！"),resetUploader()}),1e3))}))</script></body></html>